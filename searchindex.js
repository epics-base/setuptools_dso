Search.setIndex({"docnames": ["details", "index", "probe", "releasenotes", "usage"], "filenames": ["details.rst", "index.rst", "probe.rst", "releasenotes.rst", "usage.rst"], "titles": ["Troubleshooting", "setuptools extension for building non-Python Dynamic Shared Objects", "Probing Toolchain", "Release Notes", "Working with packages using setuptools_dso"], "terms": {"extra": [0, 2, 4], "print": [0, 2, 3], "dure": [0, 2, 3, 4], "build": [0, 3], "process": [0, 3], "mai": [0, 1, 2, 4], "enabl": [0, 2], "pass": [0, 2, 4], "v": [0, 4], "setup": [0, 2, 3, 4], "py": [0, 3, 4], "befor": [0, 4], "command": [0, 3, 4], "eg": [0, 1, 2, 4], "python": [0, 3, 4], "bdist_wheel": [0, 3], "pip": [0, 3, 4], "instal": [0, 3, 4], "global": 0, "option": [0, 4], "librari": [0, 1, 4], "setuptool": [0, 3, 4], "dso": [0, 1, 2, 3], "typic": 0, "link": [0, 3, 4], "directli": [0, 2], "indirectli": 0, "extens": [0, 3], "modul": [0, 3, 4], "Such": 0, "should": 0, "load": [0, 4], "implicitli": [0, 4], "when": [0, 2, 3, 4], "i": [0, 2, 3, 4], "import": [0, 2, 4], "runtim": [0, 1, 2, 3], "For": [0, 2, 4], "thi": [0, 1, 4], "work": [0, 1], "loader": 0, "must": 0, "abl": 0, "find": [0, 4], "complic": 0, "differ": 0, "desir": 0, "support": [0, 3, 4], "virtualenv": 0, "similar": [0, 2], "prevent": 0, "us": [0, 1, 3], "absolut": [0, 4], "time": [0, 2, 4], "path": [0, 2, 4], "The": [0, 2, 4], "resolut": 0, "each": [0, 3, 4], "depend": [0, 3, 4], "capabl": 0, "execut": [0, 3], "format": 0, "target": [0, 2, 4], "rpath": [0, 3], "magic": 0, "origin": 0, "prefix": [0, 3], "take": [0, 3, 4], "an": [0, 1, 2, 3], "exampl": [0, 1, 4], "follow": 0, "tree": [0, 4], "modulea": 0, "__init__": [0, 4], "_ext": 0, "so": [0, 1, 4], "lib": [0, 2, 4], "libsup": 0, "0": [0, 1, 2, 4], "name": [0, 2, 3, 4], "gcc": [0, 2, 3, 4], "share": [0, 4], "wl": 0, "sonam": [0, 4], "given": [0, 2], "sinc": [0, 3], "rel": [0, 4], "from": [0, 1, 2, 3, 4], "note": [0, 1, 4], "realli": 0, "function": [0, 2, 4], "libc": 0, "glibc": 0, "histor": 0, "did": 0, "anyth": 0, "like": [0, 2, 4], "howev": [0, 4], "now": 0, "doe": 0, "cf": [0, 4], "man": 0, "dyld": 0, "equival": 0, "becom": 0, "_name": 0, "dylib": [0, 1], "Then": 0, "loader_path": 0, "There": 0, "It": 0, "necessari": [0, 4], "adjust": 0, "search": [0, 2, 3], "includ": [0, 2, 3, 4], "directori": [0, 2, 4], "contain": [0, 4], "dll": [0, 1, 4], "explicitli": 0, "code": [0, 2, 3, 4], "prior": [0, 4], "With": 0, "earlier": 0, "version": [0, 2, 4], "suffici": 0, "recent": 0, "requir": [0, 2, 4], "adddlldirectori": 0, "api": [0, 3], "call": [0, 4], "wrap": 0, "add_dll_directori": [0, 4], "libi": 1, "y": 1, "inclus": 1, "wheel": [1, 3, 4], "provid": [1, 2], "altern": 1, "bundl": 1, "extern": 1, "built": [1, 4], "packag": [1, 3], "replac": [1, 2], "system": [1, 4], "makefil": 1, "allow": [1, 2, 3, 4], "sourc": [1, 2, 3, 4], "within": 1, "ecosystem": 1, "issu": 1, "tracker": 1, "On": [1, 3, 4], "pypi": [1, 4], "vc": 1, "repositori": 1, "canon": 1, "document": [1, 3], "usag": [1, 3], "ci": 1, "statu": 1, "setuptools_dso": [1, 2, 3], "num_job": [1, 3], "appli": 1, "your": 1, "cython": [1, 3], "dylink_prepare_dso": [1, 4], "ctype": 1, "probe": [1, 3, 4], "toolchain": [1, 3, 4], "classif": [1, 3], "troubleshoot": 1, "mechan": 1, "elf": [1, 4], "linux": [1, 2, 3], "nix": 1, "bsd": 1, "mach": 1, "o": [1, 2, 4], "osx": [1, 2, 3], "pe": 1, "window": [1, 2, 3, 4], "releas": [1, 2], "2": [1, 2, 4], "11": [1, 2], "aug": 1, "2024": 1, "10": 1, "nov": 1, "2023": 1, "9": [1, 2], "june": 1, "8": [1, 2, 4], "7": 1, "feb": 1, "6": 1, "sept": 1, "2022": 1, "5": 1, "jan": 1, "4": [1, 2], "oct": 1, "2021": 1, "3": [1, 4], "1": [1, 2, 4], "juli": 1, "2020": 1, "2019": 1, "2018": 1, "buildsystem": 2, "autoconf": 2, "cmake": 2, "compil": [2, 3, 4], "inspect": 2, "determin": 2, "size": [2, 3], "type": 2, "avail": [2, 4], "header": [2, 3], "file": [2, 4], "probetoolchain": [2, 3], "class": [2, 4], "exist": 2, "question": 2, "answer": 2, "def": [2, 4], "define_dso": 2, "cmd": 2, "mymacro": 2, "check_includ": 2, "sonet": 2, "h": [2, 4], "enable_obscure_featur": 2, "none": [2, 4], "return": [2, 3, 4], "dsodemo": [2, 4], "demo": [2, 4], "src": [2, 4], "foo": [2, 4], "c": [2, 4], "bar": [2, 4], "cpp": [2, 4], "define_macro": 2, "x_dso": [2, 3, 4], "lazi": 2, "list": [2, 3, 4], "avoid": [2, 3], "redund": 2, "zip_saf": [2, 4], "fals": [2, 4], "info": [2, 3], "toolchaininfo": [2, 3], "object": [2, 4], "base": [2, 4], "specif": [2, 4], "predefin": 2, "preprocessor": 2, "macro": 2, "compiler_vers": 2, "too": 2, "old": 2, "verbos": 2, "paramet": [2, 4], "bool": [2, 4], "If": [2, 4], "true": [2, 4], "addit": [2, 4], "str": [2, 4], "select": 2, "non": [2, 4], "default": [2, 3, 4], "all": [2, 3], "test": [2, 3], "valu": 2, "tupl": 2, "defin": 2, "kw": [2, 4], "languag": [2, 3, 4], "definit": 2, "include_dir": 2, "extra_prearg": 2, "argument": [2, 3, 4], "extra_postarg": 2, "order": [2, 4], "check_memb": 2, "struct": 2, "member": 2, "structur": 2, "ha": [2, 4], "check_symbol": 2, "symnam": 2, "symbol": 2, "variabl": [2, 4], "delcar": 2, "result": [2, 4], "string": [2, 4], "temporari": 2, "locat": 2, "eval_macro": [2, 3], "expand": 2, "undefin": 2, "evalu": 2, "multipl": 2, "preserv": 2, "ordereddict": 2, "which": [2, 4], "map": 2, "A": [2, 4], "ad": [2, 4], "properti": 2, "sizeof": [2, 3], "typenam": 2, "byte": 2, "try_compil": 2, "tc": 2, "inform": [2, 3, 4], "about": [2, 4], "address_width": 2, "width": 2, "bit": 2, "virtual": 2, "address": 2, "aka": 2, "void": 2, "known": 2, "32": 2, "64": 2, "implement": 2, "possibl": [2, 4], "clang": [2, 3], "msvc": 2, "compiler_typ": 2, "copi": 2, "distutil": [2, 4], "ccompil": 2, "bcpp": 2, "cygwin": 2, "mingw": 2, "unix": 2, "integ": 2, "suitibl": 2, "comparison": 2, "19": 2, "24245": 2, "endian": [2, 3], "multi": 2, "littl": 2, "big": 2, "gnuish": 2, "target_arch": 2, "cpu": [2, 3], "architectur": 2, "aarch64": [2, 3], "arm32": 2, "amd64": 2, "i386": 2, "target_o": 2, "environ": [2, 4], "cpython": 3, "12": 3, "oliv": 3, "cop": 3, "fix": 3, "w": [3, 4], "inject": [3, 4], "dynamiclib": 3, "namespac": 3, "nathan": 3, "shiraini": 3, "propag": 3, "inplac": 3, "sub": 3, "correctli": [3, 4], "extend": 3, "fixup": 3, "add": [3, 4], "ar": [3, 4], "edit": 3, "kiril": 3, "smelkov": 3, "try": 3, "limit": 3, "parallel": 3, "ram": 3, "well": 3, "onli": 3, "understood": 3, "ensur": [3, 4], "platlib": 3, "cmdclass": 3, "overrid": [3, 4], "mutabl": 3, "workaround": 3, "probabl": 3, "bug": 3, "63": 3, "more": 3, "log": 3, "edmund": 3, "blomlei": 3, "strip": 3, "out": 3, "flto": 3, "do": 3, "extract": 3, "method": 3, "demot": 3, "error": 3, "warn": 3, "alreadi": [3, 4], "overridden": 3, "introduc": 3, "setuptools_dso_plat_nam": [3, 4], "platform": [3, 4], "introspect": 3, "one": [3, 4], "callabl": [3, 4], "instanc": [3, 4], "pure": 3, "begin": [3, 4], "automat": 3, "gener": [3, 4], "kaleb": 3, "barrett": 3, "interact": 3, "develop": [3, 4], "e": 3, "install_nam": 3, "maco": 3, "mehul": 3, "tikekar": 3, "remov": 3, "install_name_tool": 3, "fake": 3, "build_dso": [3, 4], "package_dir": 3, "account": 3, "wrapper": [3, 4], "don": 3, "t": 3, "clobber": 3, "logic": 3, "handl": [3, 4], "root": 3, "licens": 3, "copyright": 3, "dist": [3, 4], "increment": 3, "rebuild": 3, "initi": 3, "stabl": 3, "can": 4, "most": 4, "part": 4, "treat": 4, "ani": 4, "other": 4, "distribut": 4, "through": 4, "org": 4, "binari": 4, "egg": 4, "encourag": 4, "need": 4, "manual": 4, "invok": 4, "script": 4, "tar": 4, "sdist": 4, "wish": 4, "place": 4, "build_ext": 4, "concurr": 4, "export": 4, "sequenti": 4, "demonstr": 4, "To": 4, "properli": 4, "recommend": 4, "pyproject": 4, "toml": 4, "least": 4, "manifest": 4, "everyth": 4, "success": 4, "recurs": 4, "auditwheel": 4, "caus": 4, "problem": 4, "concept": 4, "manylinux": 4, "current": 4, "21": 4, "pep": 4, "517": 4, "manylinux1_x86_64": 4, "around": 4, "unknown": 4, "keyword": 4, "sovers": 4, "dynam": 4, "accept": 4, "same": 4, "": 4, "against": 4, "targert": 4, "append": 4, "creat": 4, "turn": 4, "libfoo": 4, "lang_compile_arg": 4, "dict": 4, "flag": 4, "dmagic": 4, "gen_info": 4, "control": 4, "convent": 4, "filenam": 4, "disabl": 4, "while": 4, "make": 4, "up": 4, "mylib": 4, "express": 4, "first": 4, "encod": 4, "libdemo": 4, "along": 4, "side": 4, "present": 4, "demo_dsoinfo": 4, "access": 4, "compat": 4, "either": 4, "phase": 4, "core": 4, "see": 4, "constructor": 4, "understand": 4, "some": 4, "someth": 4, "l": 4, "lfoo": 4, "pythonpath": 4, "ext": 4, "dtest": 4, "ext_modul": 4, "orig": 4, "correct": 4, "them": 4, "_dsoinfo": 4, "alongsid": 4, "mypkg": 4, "thelib": 4, "thelib_dsoinfo": 4, "valid": 4, "import_dsoinfo": 4, "retriev": 4, "libthelib": 4, "made": 4, "via": 4, "step": 4, "neeed": 4, "my": 4, "pkg": 4, "adso": 4, "resolv": 4, "importlib": 4, "import_modul": 4, "prepar": 4, "could": 4, "alwai": 4, "run": 4, "0a1": 4, "previous": 4, "sy": 4, "fixpath": 4, "under": 4, "libdir": 4, "join": 4, "dirnam": 4, "__file__": 4, "hasattr": 4, "els": 4, "get": 4, "split": 4, "pathsep": 4, "win32": 4, "find_dso": 4, "lookup": 4, "qualifi": 4, "libblah": 4, "No": 4, "effect": 4, "fname": 4, "cdll": 4, "rtld_global": 4, "would": 4, "attribut": 4, "dsonam": 4, "libnam": 4, "full": 4, "sofilenam": 4}, "objects": {"": [[1, 0, 0, "-", "setuptools_dso"]], "setuptools_dso": [[4, 1, 1, "", "DSO"], [4, 1, 1, "", "Extension"], [2, 1, 1, "", "ProbeToolchain"], [4, 4, 1, "", "cythonize"], [4, 4, 1, "", "dylink_prepare_dso"], [4, 4, 1, "", "find_dso"], [4, 4, 1, "", "setup"]], "setuptools_dso.ProbeToolchain": [[2, 2, 1, "", "check_include"], [2, 2, 1, "", "check_includes"], [2, 2, 1, "", "check_member"], [2, 2, 1, "", "check_symbol"], [2, 2, 1, "", "compile"], [2, 2, 1, "", "eval_macros"], [2, 3, 1, "", "info"], [2, 2, 1, "", "sizeof"], [2, 2, 1, "", "try_compile"]], "setuptools_dso.probe": [[2, 1, 1, "", "ToolchainInfo"]], "setuptools_dso.probe.ToolchainInfo": [[2, 5, 1, "", "address_width"], [2, 5, 1, "", "compiler"], [2, 5, 1, "", "compiler_type"], [2, 5, 1, "", "compiler_version"], [2, 5, 1, "", "endian"], [2, 5, 1, "", "gnuish"], [2, 5, 1, "", "target_arch"], [2, 5, 1, "", "target_os"]], "setuptools_dso.runtime": [[4, 4, 1, "", "import_dsoinfo"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:property", "4": "py:function", "5": "py:attribute"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "property", "Python property"], "4": ["py", "function", "Python function"], "5": ["py", "attribute", "Python attribute"]}, "titleterms": {"troubleshoot": 0, "mechan": 0, "elf": 0, "linux": 0, "nix": 0, "bsd": 0, "mach": 0, "o": 0, "osx": 0, "pe": 0, "window": 0, "setuptool": 1, "extens": [1, 4], "build": [1, 4], "non": 1, "python": 1, "dynam": 1, "share": 1, "object": 1, "probe": 2, "toolchain": 2, "classif": 2, "releas": 3, "note": 3, "2": 3, "11": 3, "aug": 3, "2024": 3, "10": 3, "nov": 3, "2023": 3, "9": 3, "june": 3, "8": 3, "mai": 3, "7": 3, "feb": 3, "6": 3, "sept": 3, "2022": 3, "5": 3, "jan": 3, "4": 3, "oct": 3, "2021": 3, "3": 3, "1": 3, "juli": 3, "0": 3, "2020": 3, "2019": 3, "2018": 3, "work": 4, "packag": 4, "us": 4, "setuptools_dso": 4, "num_job": 4, "appli": 4, "your": 4, "dso": 4, "an": 4, "cython": 4, "runtim": 4, "ctype": 4, "info": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Troubleshooting": [[0, "troubleshooting"]], "Mechanics": [[0, "mechanics"]], "ELF (Linux, *NIX, *BSD)": [[0, "elf-linux-nix-bsd"]], "Mach-O (OSX)": [[0, "mach-o-osx"]], "PE (Windows)": [[0, "pe-windows"]], "setuptools extension for building non-Python Dynamic Shared Objects": [[1, "module-setuptools_dso"]], "Probing Toolchain": [[2, "probing-toolchain"]], "Toolchain Classification": [[2, "toolchain-classification"]], "Release Notes": [[3, "release-notes"]], "2.11 (Aug 2024)": [[3, "aug-2024"]], "2.10 (Nov 2023)": [[3, "nov-2023"]], "2.9 (June 2023)": [[3, "june-2023"]], "2.8 (May 2023)": [[3, "may-2023"]], "2.7 (Feb 2023)": [[3, "feb-2023"]], "2.6 (Sept 2022)": [[3, "sept-2022"]], "2.5 (Jan 2022)": [[3, "jan-2022"]], "2.4 (Oct 2021)": [[3, "oct-2021"]], "2.3 (Aug 2021)": [[3, "aug-2021"]], "2.2 (Aug 2021)": [[3, "id1"]], "2.1 (July 2021)": [[3, "july-2021"]], "2.0 (June 2021)": [[3, "june-2021"]], "1.7 (May 2020)": [[3, "may-2020"]], "1.6 (May 2020)": [[3, "id2"]], "1.5 (Jan 2020)": [[3, "jan-2020"]], "1.4 (Jan 2020)": [[3, "id3"]], "1.3 (Nov 2019)": [[3, "nov-2019"]], "1.2 (Aug 2019)": [[3, "aug-2019"]], "1.1 (Aug 2019)": [[3, "id4"]], "1.0 (Oct 2018)": [[3, "oct-2018"]], "Working with packages using setuptools_dso": [[4, "working-with-packages-using-setuptools-dso"]], "NUM_JOBS": [[4, "num-jobs"]], "Applying to your package": [[4, "applying-to-your-package"]], "Building a DSO": [[4, "building-a-dso"]], "Building an Extension": [[4, "building-an-extension"]], "Cython": [[4, "cython"]], "Runtime": [[4, "runtime"]], "Use with ctypes": [[4, "use-with-ctypes"]], "Info": [[4, "info"]]}, "indexentries": {"module": [[1, "module-setuptools_dso"]], "setuptools_dso": [[1, "module-setuptools_dso"]], "probetoolchain (class in setuptools_dso)": [[2, "setuptools_dso.ProbeToolchain"]], "toolchaininfo (class in setuptools_dso.probe)": [[2, "setuptools_dso.probe.ToolchainInfo"]], "address_width (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.address_width"]], "check_include() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.check_include"]], "check_includes() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.check_includes"]], "check_member() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.check_member"]], "check_symbol() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.check_symbol"]], "compile() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.compile"]], "compiler (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.compiler"]], "compiler_type (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.compiler_type"]], "compiler_version (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.compiler_version"]], "endian (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.endian"]], "eval_macros() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.eval_macros"]], "gnuish (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.gnuish"]], "info (setuptools_dso.probetoolchain property)": [[2, "setuptools_dso.ProbeToolchain.info"]], "sizeof() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.sizeof"]], "target_arch (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.target_arch"]], "target_os (setuptools_dso.probe.toolchaininfo attribute)": [[2, "setuptools_dso.probe.ToolchainInfo.target_os"]], "try_compile() (setuptools_dso.probetoolchain method)": [[2, "setuptools_dso.ProbeToolchain.try_compile"]], "dso (class in setuptools_dso)": [[4, "setuptools_dso.DSO"]], "extension (class in setuptools_dso)": [[4, "setuptools_dso.Extension"]], "cythonize() (in module setuptools_dso)": [[4, "setuptools_dso.cythonize"]], "dylink_prepare_dso() (in module setuptools_dso)": [[4, "setuptools_dso.dylink_prepare_dso"]], "find_dso() (in module setuptools_dso)": [[4, "setuptools_dso.find_dso"]], "import_dsoinfo() (in module setuptools_dso.runtime)": [[4, "setuptools_dso.runtime.import_dsoinfo"]], "setup() (in module setuptools_dso)": [[4, "setuptools_dso.setup"]]}})